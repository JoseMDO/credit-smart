<div class="card bg-light shadow card-hover-effect t-card card-margin">
  <%= image_tag user_transaction.category.image_url, class: "card-image rounded shadow-lg img-fluid" %>
  <div class="card-body d-flex flex-column">
    <h5 class="card-title mt-4">
      <%= user_transaction.description %>
      <i class="fas fa-tag ml-2" title="Category"></i>
      <hr>
    </h5>
    <h6 class="card-subtitle mb-2 text-muted">
      Category: <%= user_transaction.category_id.present? ? Category.find_by(id: user_transaction.category_id)&.name || 'Uncategorized' : 'Uncategorized' %>
    </h6>
    <p class="card-text">Amount: $<%= user_transaction.amount %></p>
  </div>
  <div class="card-footer text-right d-flex justify-content-center align-items-center">
    <div class="button-container d-flex">
      <%= link_to "Edit", edit_transaction_path(id: user_transaction.id), class: "btn btn-sm btn-outline-secondary" %>
      <%= button_to "Delete", user_transaction, method: :delete, data: { confirm: "Are you sure?" }, class: "btn btn-sm btn-outline-danger ml-2" %>
    </div>
    <% if current_page?(action: 'index') %>
      <%= link_to "Show Details", current_transaction_path(username: current_user.username, id: user_transaction.id), class: "btn btn-sm btn-outline-success" %>
    <% end %>
  </div>
</div>
